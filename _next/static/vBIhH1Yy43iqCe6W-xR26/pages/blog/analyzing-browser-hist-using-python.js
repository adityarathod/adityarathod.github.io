(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"2p4j":function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return p})),t.d(a,"default",(function(){return l}));var n=t("wx14"),c=t("Ff2n"),o=t("q1tI"),b=t.n(o),s=t("7ljp"),p=(b.a.createElement,{title:"Analyzing Browser History Using Python and Pandas",description:"Explore the depths of your browser history with this introductory data science tutorial.",date:"November 12, 2017",draft:!1,hasMath:!1}),r={frontMatter:p},m="wrapper";function l(e){var a=e.components,t=Object(c.a)(e,["components"]);return Object(s.b)(m,Object(n.a)({},r,t,{components:a,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Today, we're going to do some splunking within the deep, dark place which is your browser history.\nIn order to obtain the data for this tutorial from Google Chrome, go to\n",Object(s.b)("inlineCode",{parentName:"p"},"~/Library/Application Support/Google/Chrome/Default"),"\non a Mac/Linux computer or ",Object(s.b)("inlineCode",{parentName:"p"},"%LocalAppData%\\Google\\Chrome\\User Data\\Default")," on a Windows PC.\nRun the following SQLite command to obtain a text file in reverse chronological order:"),Object(s.b)("p",null,"(Mac/Linux)"),Object(s.b)("pre",{className:"language-bash"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"sqlite3 History ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"\"select datetime(last_visit_time/1000000-11644473600,'unixepoch'), url \\\nfrom urls order by last_visit_time desc\"")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">")," ~/hist.txt\n")),Object(s.b)("p",null,"(Windows)"),Object(s.b)("pre",{className:"language-bash"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"sqlite3 History ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"\"select datetime(last_visit_time/1000000-11644473600,'unixepoch'), url \\\nfrom urls order by last_visit_time desc\"")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">")," %userprofile%",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"\\"),"hist.txt\n")),Object(s.b)("p",null,"Check your user folder. A file called ",Object(s.b)("inlineCode",{parentName:"p"},"hist.txt")," should be there. Move the file to a suitable place for this exercise."),Object(s.b)("p",null,"(This process brought to you by the brilliant people at ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://superuser.com/questions/602252/can-chrome-browser-history-be-exported-to-an-html-file"}),"https://superuser.com/questions/602252/can-chrome-browser-history-be-exported-to-an-html-file"),")"),Object(s.b)("p",null,"Import the needed libraries, ",Object(s.b)("inlineCode",{parentName:"p"},"numpy")," and ",Object(s.b)("inlineCode",{parentName:"p"},"pandas"),":"),Object(s.b)("pre",{className:"language-python"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," pandas ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"as")," pd\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," numpy ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"as")," np\n")),Object(s.b)("h1",null,"Clean Up Data"),Object(s.b)("p",null,"That data that we pulled is extremely messy. Here's an example row:"),Object(s.b)("pre",{className:"language-wiki"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-wiki"}),"2017-11-12 21:10:11|https://news.ycombinator.com/item?id=15678587\n")),Object(s.b)("p",null,"We need to split on that vertical bar while making sure not to split on a bar in the URL itself.\nSince Pandas probably doesn't do this out of the box, let's write a custom import function:"),Object(s.b)("pre",{className:"language-python"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# Open our file"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"with")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token builtin"}),"open"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'hist.txt'"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"as")," f",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":"),"\n    content ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," f",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"readlines",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# Strip whitespace then split on first occurrence of pipe character"),"\nraw_data ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"line",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"split",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'|'"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"for")," line ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"in")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"x",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"strip",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"for")," x ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"in")," content",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# We now have a 2D list."),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"print"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"raw_data",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n")),Object(s.b)("pre",{className:"language-wiki"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-wiki"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token url"}),"['2017-11-12 21:09:21', 'https://news.ycombinator.com/']"),"\n")),Object(s.b)("p",null,"Using our 2D list, let's make a Pandas DataFrame with custom column headers."),Object(s.b)("pre",{className:"language-python"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),"data ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," pd",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"DataFrame",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"raw_data",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," columns",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'datetime'"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'url'"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n")),Object(s.b)("p",null,"Make sure it is working:"),Object(s.b)("pre",{className:"language-python"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),"data",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"head",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n")),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"\u2003"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"datetime"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"url"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"0"),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"2017-11-12 21:10:11"),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("a",Object(n.a)({parentName:"td"},{href:"https://news.ycombinator.com/item?id=15678587"}),"https://news.ycombinator.com/item?id=15678587"))))),Object(s.b)("p",null,"Now, we're almost done with ingesting the data. Let's convert the\ndatetime string column into a column of Pandas ",Object(s.b)("inlineCode",{parentName:"p"},"datetime")," elements."),Object(s.b)("pre",{className:"language-python"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),"data",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"datetime ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," pd",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"to_datetime",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"data",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"datetime",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n")),Object(s.b)("p",null,"Double-check that it is indeed a Pandas timestamp:"),Object(s.b)("pre",{className:"language-python"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),"data",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"datetime",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n")),Object(s.b)("p",null,"Finally, let's remove all information from the URL, leaving only the domain/subdomain:"),Object(s.b)("pre",{className:"language-python"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"from")," urllib",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"parse ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," urlparse\nparser ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"lambda")," u",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," urlparse",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"u",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"netloc\ndata",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"url ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," data",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"url",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token builtin"}),"apply"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"parser",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n")),Object(s.b)("p",null,"Let's check our work again:"),Object(s.b)("pre",{className:"language-python"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),"data",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"head",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n")),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"\u2003"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"datetime"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"url"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"0"),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"2017-11-12 21:10:11"),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"news.ycombinator.com")))),Object(s.b)("p",null,"Finally, our data is clean."),Object(s.b)("h1",null,"Analyzing the Data"),Object(s.b)("p",null,"Now that the boring part is done, let's analyze our browsing data."),Object(s.b)("h2",null,"Most Visited Sites"),Object(s.b)("p",null,"Let's generate a list of our top sites sorted by frequency, then print out the first two to get our most visited sites:"),Object(s.b)("pre",{className:"language-python"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# Aggregate domain entries"),"\nsite_frequencies ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," data",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"url",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"value_counts",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"to_frame",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# Make the domain a column"),"\nsite_frequencies",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"reset_index",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"level",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," inplace",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"True"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# Rename columns to appropriate names"),"\nsite_frequencies",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"columns ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'domain'"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'count'"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# Display top 2"),"\nsite_frequencies",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"head",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"2"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n")),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"\u2003"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"domain"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"count"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"0"),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("a",Object(n.a)({parentName:"td"},{href:"http://www.google.com"}),"www.google.com")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"3904")),Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"1"),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"github.com"),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"1571")))),Object(s.b)("p",null,"It should come as no shock that my top sites, just like any other dev, were Google and Github."),Object(s.b)("p",null,Object(s.b)("em",{parentName:"p"},"(Is secretly surprised that Stack Overflow was not one of the top ten)")),Object(s.b)("p",null,"Now, let's see our top sites in a beautiful chart:"),Object(s.b)("pre",{className:"language-python"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"import")," matplotlib",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"pyplot ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"as")," plt\ntopN ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"20"),"\nplt",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"figure",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," figsize",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"10"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"10"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\nplt",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"title",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'Top $n Sites Visited'"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"replace",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'$n'"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token builtin"}),"str"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"topN",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\npie_data ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," site_frequencies",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'count'"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"head",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"topN",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"tolist",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\npie_labels ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"None"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# Uncomment to get specific domain names"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# pie_labels = site_frequencies['domain'].head(topN).tolist()"),"\nplt",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"pie",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"pie_data",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," autopct",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'%1.1f%%'"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," labels",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),"pie_labels",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\nplt",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),"show",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n")),Object(s.b)("p",null,Object(s.b)("img",Object(n.a)({parentName:"p"},{src:"/static/img/browser-hist-graph.jpg",alt:"Pie Chart"}))),Object(s.b)("p",null,"What else can we do with the data? A lot, I'm sure, since this is the Holy Grail for ad tracking companies."))}l.isMDXComponent=!0},"7ljp":function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"b",(function(){return u}));var n=t("q1tI"),c=t.n(n);function o(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function b(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?b(Object(t),!0).forEach((function(a){o(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function p(e,a){if(null==e)return{};var t,n,c=function(e,a){if(null==e)return{};var t,n,c={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(c[t]=e[t]);return c}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}var r=c.a.createContext({}),m=function(e){var a=c.a.useContext(r),t=a;return e&&(t="function"===typeof e?e(a):s(s({},a),e)),t},l=function(e){var a=m(e.components);return(c.a.createElement(r.Provider,{value:a},e.children))},O="mdxType",j={inlineCode:"code",wrapper:function(e){var a=e.children;return(c.a.createElement(c.a.Fragment,{},a))}},i=c.a.forwardRef((function(e,a){var t=e.components,n=e.mdxType,o=e.originalType,b=e.parentName,r=p(e,["components","mdxType","originalType","parentName"]),l=m(t),O=n,i=l["".concat(b,".").concat(O)]||l[O]||j[O]||o;return t?c.a.createElement(i,s(s({ref:a},r),{},{components:t})):c.a.createElement(i,s({ref:a},r))}));function u(e,a){var t=arguments,n=a&&a.mdxType;if("string"===typeof e||n){var o=t.length,b=new Array(o);b[0]=i;var s={};for(var p in a)hasOwnProperty.call(a,p)&&(s[p]=a[p]);s.originalType=e,s[O]="string"===typeof e?e:n,b[1]=s;for(var r=2;r<o;r++)b[r]=t[r];return c.a.createElement.apply(null,b)}return c.a.createElement.apply(null,t)}i.displayName="MDXCreateElement"},Ff2n:function(e,a,t){"use strict";function n(e,a){if(null==e)return{};var t,n,c=function(e,a){if(null==e)return{};var t,n,c={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(c[t]=e[t]);return c}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}t.d(a,"a",(function(){return n}))},Qetd:function(e,a,t){"use strict";var n=Object.assign.bind(Object);e.exports=n,e.exports.default=e.exports},jVSF:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/analyzing-browser-hist-using-python",function(){return t("2p4j")}])},wx14:function(e,a,t){"use strict";function n(){return(n=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}t.d(a,"a",(function(){return n}))}},[["jVSF",0,1]]]);